# ðŸŽ¯ Module Tracker v1.0 - 1 Week Implementation Plan

## Overview
**Target Release:** 1 week from now
**Platforms:** iOS, Android, Chrome
**Grading System:** UK system (0-100%, First/2:1/2:2/Third/Fail)
**Notifications:** Both push and email

---

## **DAY 1: Foundation & Error Handling**

### Morning: Error Handling
1. **Create error handling utilities** (`lib/utils/error_handler.dart`)
   - Network error detection
   - Firestore error handling
   - User-friendly error messages mapper

2. **Implement offline mode detection** (`lib/providers/connectivity_provider.dart`)
   - Listen to connectivity changes
   - Show offline banner
   - Queue actions for when back online

3. **Add error boundaries to key screens**
   - Wrap providers with try-catch
   - Add retry buttons to error states
   - Improve existing error states (already have some!)

### Afternoon: Performance Audit
4. **Review provider usage**
   - Check for unnecessary rebuilds
   - Add `select` where needed
   - Use `family` modifiers efficiently

5. **Optimize large lists**
   - Profile semester archive screen with 50+ semesters
   - Test with 20+ modules per semester
   - Check memory usage during navigation

---

## **DAY 2: Testing & Onboarding Start**

### Morning: Edge Case Testing
6. **Create test scenarios file** (`docs/test_scenarios.md`)
   - 0 modules, 0 semesters
   - 100 weeks semester
   - 50+ assessments in one module
   - Semester spanning year boundary (Dec 31 â†’ Jan 1)
   - Leap year handling (2024, 2028)
   - Birthday on Feb 29th
   - Different time zones
   - Very long names (module, semester, task names)

7. **Test all scenarios**
   - Document bugs found
   - Fix critical crashes
   - Note minor issues for later

### Afternoon: Onboarding - Welcome Screen
8. **Create welcome screen** (`lib/screens/onboarding/welcome_screen.dart`)
   - Beautiful intro with app logo
   - "Get Started" button
   - "I already have an account" option (if you add multi-device sync later)

9. **Create onboarding provider** (`lib/providers/onboarding_provider.dart`)
   - Track if user has completed onboarding
   - Store in SharedPreferences
   - Check on app launch

---

## **DAY 3: Tutorial Flow & Grades Foundation**

### Morning: Tutorial Screens
10. **Create tutorial carousel** (`lib/screens/onboarding/tutorial_screen.dart`)
    - Screen 1: "Create Your Semester" (show calendar visual)
    - Screen 2: "Add Modules & Tasks" (show module card)
    - Screen 3: "Track Progress" (show checkboxes)
    - Screen 4: "Grade Assessments" (show grade input)
    - Skip button, Next/Done buttons
    - Page indicators

11. **Create sample data generator** (`lib/utils/sample_data_generator.dart`)
    - Generate sample semester
    - 3 sample modules with tasks
    - 5 sample assessments
    - "Try it out" option on tutorial end

### Afternoon: UK Grading System
12. **Update grade model** (`lib/models/grade.dart`)
    - Support percentage (0-100)
    - Calculate UK classification:
      - First: 70%+
      - 2:1: 60-69%
      - 2:2: 50-59%
      - Third: 40-49%
      - Fail: <40%
    - Support credit weighting

13. **Update assessment model**
    - Add UK classification display
    - Add credit value field (if not already there)
    - Update Firestore serialization

---

## **DAY 4: Overall Grades Screen**

### Morning: Grades Calculation Logic
14. **Create grades calculator** (`lib/utils/grades_calculator.dart`)
    - Calculate semester average (credit-weighted)
    - Calculate overall average across all semesters
    - Calculate UK classification based on final year weighting:
      - Year 1: 0% (or 10%)
      - Year 2: 20% (or 30%)
      - Year 3: 80% (or 60%)
    - Support different weighting schemes (configurable)

15. **Create grades provider** (`lib/providers/grades_provider.dart`)
    - Watch all semesters' grades
    - Calculate overall stats
    - Group by academic year

### Afternoon: Grades Overview Screen
16. **Create grades overview screen** (`lib/screens/grades/grades_overview_screen.dart`)
    - Overall GPA/average at top (big display)
    - Current UK classification prediction
    - Semester breakdown list:
      - Semester name
      - Average grade
      - Credits completed
      - Classification
    - Academic year grouping (Year 1, 2, 3)

17. **Add navigation to grades screen**
    - Add to app bar menu (new icon)
    - Or add to settings screen

---

## **DAY 5: Grade Trends & Notifications Setup**

### Morning: Grade Trends Visualization
18. **Add charts package** (`fl_chart` or `syncfusion_flutter_charts`)
    - Add to `pubspec.yaml`

19. **Create grade trend chart** (`lib/widgets/grade_trend_chart.dart`)
    - Line chart showing average per semester
    - X-axis: Semesters chronologically
    - Y-axis: Average grade (0-100%)
    - Color-coded by classification
    - Tap to see details

20. **Add to grades overview screen**
    - Place chart below overall stats
    - Add toggle for different views (by semester, by module, by year)

### Afternoon: Notifications Foundation
21. **Add notification packages**
    ```yaml
    dependencies:
      flutter_local_notifications: ^latest
      timezone: ^latest
      permission_handler: ^latest
    ```

22. **Create notification service** (`lib/services/notification_service.dart`)
    - Initialize notifications
    - Request permissions (iOS/Android)
    - Schedule notification helper
    - Cancel notification helper
    - Handle notification taps

23. **Test basic notification**
    - Schedule test notification
    - Verify it appears on iOS, Android, Chrome (if supported)

---

## **DAY 6: Notification Logic & Settings**

### Morning: Assessment Reminders
24. **Create assessment reminder scheduler** (`lib/services/assessment_reminder_service.dart`)
    - When assessment created â†’ schedule notifications:
      - 1 week before (if >1 week away)
      - 1 day before
      - Day of (morning, e.g., 9am)
    - When assessment updated â†’ reschedule
    - When assessment deleted â†’ cancel notifications
    - When assessment completed â†’ cancel notifications

25. **Integrate with assessment provider**
    - Hook into create/update/delete operations
    - Schedule reminders automatically

### Afternoon: Notification Settings
26. **Create notification settings screen** (`lib/screens/settings/notification_settings_screen.dart`)
    - Enable/disable notifications toggle
    - Assessment reminders toggle
    - Weekly summary toggle (optional)
    - Notification time preferences:
      - Morning (9am)
      - Evening (6pm)
    - Test notification button

27. **Update user preferences provider**
    - Add notification preference fields
    - Save to Firestore/SharedPreferences

---

## **DAY 7: Widgets, Polish & Release Prep**

### Morning: Home Screen Widgets
28. **Setup widget platforms**
    - iOS: WidgetKit (Swift)
    - Android: Android Widgets (Kotlin)
    - Chrome: Web Workers (if feasible, or skip)

29. **Create "Today's Tasks" widget**
    - Shows current week number
    - Lists today's tasks (3-5 max)
    - Shows completion count
    - Tap to open app

30. **Create "Week Progress" widget**
    - Shows week X of Y
    - Progress bar for week completion
    - Next assessment due
    - Tap to open app

### Afternoon: Final Polish & Testing
31. **Full app testing**
    - Test all screens
    - Test navigation flows
    - Test error states
    - Test notifications (schedule for 1 min from now)
    - Test widgets on real devices
    - Test offline mode

32. **Performance final check**
    - Profile with many modules
    - Check app size
    - Optimize assets if needed

33. **App Store Preparation**
    - Take screenshots (5-6 per platform)
    - Write app description
    - Write release notes
    - Create privacy policy
    - Prepare app icons (all sizes)
    - Test on physical devices

34. **Version bump & build**
    - Update `pubspec.yaml` to 1.0.0
    - Update build numbers
    - Build release APK/IPA
    - Submit to TestFlight/Internal Testing
    - Beta test with 2-3 users

---

## ðŸ“¦ Dependencies to Add

Add to `pubspec.yaml`:
```yaml
dependencies:
  flutter_local_notifications: ^17.0.0
  timezone: ^0.9.0
  permission_handler: ^11.0.0
  fl_chart: ^0.66.0  # For grade trends
  connectivity_plus: ^5.0.0  # For offline detection
  shared_preferences: ^2.2.0  # Already have this?
```

---

## ðŸ“‹ Feature Checklist

- [ ] Error handling & offline mode
- [ ] Performance optimization
- [ ] Edge case testing
- [ ] Onboarding welcome screen
- [ ] Tutorial flow (4 screens)
- [ ] Sample data generator
- [ ] UK grading system support
- [ ] Overall grades calculator
- [ ] Grades overview screen
- [ ] Grade trends chart
- [ ] Notification permissions
- [ ] Assessment reminders (1 week, 1 day, day of)
- [ ] Notification settings screen
- [ ] Email notifications (optional)
- [ ] iOS widget - Today's Tasks
- [ ] Android widget - Today's Tasks
- [ ] iOS widget - Week Progress
- [ ] Android widget - Week Progress
- [ ] Full app testing
- [ ] App store assets
- [ ] Privacy policy
- [ ] Beta testing

---

## ðŸŽ¯ Success Criteria for v1.0

1. âœ… App works offline (with graceful degradation)
2. âœ… No crashes on edge cases (tested thoroughly)
3. âœ… Onboarding flow guides new users
4. âœ… UK grades display correctly (First, 2:1, etc.)
5. âœ… Overall university grade visible
6. âœ… Notifications work reliably on iOS & Android
7. âœ… At least 1 widget per platform
8. âœ… Performance: Opens in <2s, navigates smoothly
9. âœ… Ready for App Store/Play Store submission

---

## ðŸš€ Next Steps

Ready to start **Day 1: Error Handling**!

Commands to begin:
```bash
# Create necessary directories
mkdir -p lib/utils lib/services docs

# Start with error handler
# Create: lib/utils/error_handler.dart
```

Good luck! ðŸŽ‰
